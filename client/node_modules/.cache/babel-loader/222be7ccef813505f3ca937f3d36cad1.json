{"ast":null,"code":"import axios from 'axios';\nconst initialState = {\n  photos: {}\n};\nexport const types = {\n  GETPHOTOS: 'PHOTOS/GETPHOTOS',\n  GETPHOTOSBYDATE: 'PHOTOS/GETPHOTOSBYDATE'\n};\nexport const actions = {\n  getPhotos: () => {\n    return dispatch => {\n      let photos;\n      axios.get('http://127.0.0.1/api/getPhotos').then(res => {\n        photos = res;\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n      });\n      dispatch({\n        type: types.GETPHOTOS,\n        photos: photos\n      });\n    };\n  },\n  getPhotosByDates: dates => {\n    let photos;\n    axios.post('http://127.0.0.1/api/getPhotosByDate', {\n      dates\n    }, {\n      withCredentials: true\n    }).then(res => {\n      console.log(res);\n      photos = res;\n    }).catch(err => {\n      console.log(err);\n    });\n    return {\n      type: types.GETPHOTOSBYDATE,\n      photos: photos\n    };\n  }\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.GETPHOTOS:\n      return { ...state,\n        photos: action.photos\n      };\n\n    case types.GETPHOTOSBYDATE:\n      return { ...state,\n        photos: action.photos\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/Users/何亚星/Desktop/myWeb/client/src/redux/photos.js"],"names":["axios","initialState","photos","types","GETPHOTOS","GETPHOTOSBYDATE","actions","getPhotos","dispatch","get","then","res","console","log","catch","err","type","getPhotosByDates","dates","post","withCredentials","reducer","state","action"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE;AADW,CAArB;AAIA,OAAO,MAAMC,KAAK,GAAG;AACnBC,EAAAA,SAAS,EAAE,kBADQ;AAEnBC,EAAAA,eAAe,EAAE;AAFE,CAAd;AAKP,OAAO,MAAMC,OAAO,GAAG;AACrBC,EAAAA,SAAS,EAAE,MAAM;AACf,WAAOC,QAAQ,IAAI;AACjB,UAAIN,MAAJ;AACAF,MAAAA,KAAK,CACFS,GADH,CACO,gCADP,EAEGC,IAFH,CAEQC,GAAG,IAAI;AACXT,QAAAA,MAAM,GAAGS,GAAT;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OALH,EAMGG,KANH,CAMSC,GAAG,IAAI;AACZH,QAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,OARH;AASAP,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAEb,KAAK,CAACC,SAAd;AAAyBF,QAAAA,MAAM,EAAEA;AAAjC,OAAD,CAAR;AACD,KAZD;AAaD,GAfoB;AAgBrBe,EAAAA,gBAAgB,EAAEC,KAAK,IAAI;AACzB,QAAIhB,MAAJ;AACAF,IAAAA,KAAK,CACFmB,IADH,CAEI,sCAFJ,EAGI;AAAED,MAAAA;AAAF,KAHJ,EAII;AAAEE,MAAAA,eAAe,EAAE;AAAnB,KAJJ,EAMGV,IANH,CAMQC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAT,MAAAA,MAAM,GAAGS,GAAT;AACD,KATH,EAUGG,KAVH,CAUSC,GAAG,IAAI;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,KAZH;AAaA,WAAO;AACLC,MAAAA,IAAI,EAAEb,KAAK,CAACE,eADP;AAELH,MAAAA,MAAM,EAAEA;AAFH,KAAP;AAID;AAnCoB,CAAhB;;AAsCP,MAAMmB,OAAO,GAAG,CAACC,KAAK,GAAGrB,YAAT,EAAuBsB,MAAvB,KAAkC;AAChD,UAAQA,MAAM,CAACP,IAAf;AACE,SAAKb,KAAK,CAACC,SAAX;AACE,aAAO,EACL,GAAGkB,KADE;AAELpB,QAAAA,MAAM,EAAEqB,MAAM,CAACrB;AAFV,OAAP;;AAIF,SAAKC,KAAK,CAACE,eAAX;AACE,aAAO,EACL,GAAGiB,KADE;AAELpB,QAAAA,MAAM,EAAEqB,MAAM,CAACrB;AAFV,OAAP;;AAIF;AACE,aAAOoB,KAAP;AAZJ;AAcD,CAfD;;AAiBA,eAAeD,OAAf","sourcesContent":["import axios from 'axios'\r\n\r\nconst initialState = {\r\n  photos: {}\r\n}\r\n\r\nexport const types = {\r\n  GETPHOTOS: 'PHOTOS/GETPHOTOS',\r\n  GETPHOTOSBYDATE: 'PHOTOS/GETPHOTOSBYDATE'\r\n}\r\n\r\nexport const actions = {\r\n  getPhotos: () => {\r\n    return dispatch => {\r\n      let photos\r\n      axios\r\n        .get('http://127.0.0.1/api/getPhotos')\r\n        .then(res => {\r\n          photos = res\r\n          console.log(res)\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n      dispatch({ type: types.GETPHOTOS, photos: photos })\r\n    }\r\n  },\r\n  getPhotosByDates: dates => {\r\n    let photos\r\n    axios\r\n      .post(\r\n        'http://127.0.0.1/api/getPhotosByDate',\r\n        { dates },\r\n        { withCredentials: true }\r\n      )\r\n      .then(res => {\r\n        console.log(res)\r\n        photos = res\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n    return {\r\n      type: types.GETPHOTOSBYDATE,\r\n      photos: photos\r\n    }\r\n  }\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.GETPHOTOS:\r\n      return {\r\n        ...state,\r\n        photos: action.photos\r\n      }\r\n    case types.GETPHOTOSBYDATE:\r\n      return {\r\n        ...state,\r\n        photos: action.photos\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n"]},"metadata":{},"sourceType":"module"}