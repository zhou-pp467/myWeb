{"ast":null,"code":"import axios from 'axios';\naxios.defaults.withCredentials = true;\nconst initialState = {\n  photos: {}\n};\nexport const types = {\n  GETPHOTOS: 'PHOTOS/GETPHOTOS',\n  GETPHOTOSBYDATE: 'PHOTOS/GETPHOTOSBYDATE'\n};\nexport const actions = {\n  getPhotos: () => {\n    return dispatch => {\n      let photos;\n      axios.get('http://127.0.0.1/api/getPhotos').then(res => {\n        photos = res;\n      }).catch(err => {\n        console.log(err);\n      });\n      dispatch({\n        type: types.GETPHOTOS,\n        photos: photos\n      });\n    };\n  },\n  getPhotosByDates: dates => {\n    dispatch => {\n      let photos;\n      axios.post('http://127.0.0.1/api/getPhotosByDate', {\n        dates\n      }).then(res => {\n        photos = res;\n      }).catch(err => {\n        console.log(err);\n      });\n      dispatch({\n        type: types.GETPHOTOSBYDATE,\n        photos: photos\n      });\n    };\n  }\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.GETPHOTOS:\n      return { ...state,\n        photos: action.photos\n      };\n\n    case types.GETPHOTOSBYDATE:\n      return { ...state,\n        photos: action.photos\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\nexport const getPhotos = state => {\n  return state.photos;\n};","map":{"version":3,"sources":["C:/Users/何亚星/Desktop/myWeb/client/src/redux/photos.js"],"names":["axios","defaults","withCredentials","initialState","photos","types","GETPHOTOS","GETPHOTOSBYDATE","actions","getPhotos","dispatch","get","then","res","catch","err","console","log","type","getPhotosByDates","dates","post","reducer","state","action"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACAA,KAAK,CAACC,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE;AADW,CAArB;AAIA,OAAO,MAAMC,KAAK,GAAG;AACnBC,EAAAA,SAAS,EAAE,kBADQ;AAEnBC,EAAAA,eAAe,EAAE;AAFE,CAAd;AAKP,OAAO,MAAMC,OAAO,GAAG;AACrBC,EAAAA,SAAS,EAAE,MAAM;AACf,WAAOC,QAAQ,IAAI;AACjB,UAAIN,MAAJ;AACAJ,MAAAA,KAAK,CACFW,GADH,CACO,gCADP,EAEGC,IAFH,CAEQC,GAAG,IAAI;AACXT,QAAAA,MAAM,GAAGS,GAAT;AACD,OAJH,EAKGC,KALH,CAKSC,GAAG,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAPH;AAQAL,MAAAA,QAAQ,CAAC;AAAEQ,QAAAA,IAAI,EAAEb,KAAK,CAACC,SAAd;AAAyBF,QAAAA,MAAM,EAAEA;AAAjC,OAAD,CAAR;AACD,KAXD;AAYD,GAdoB;AAerBe,EAAAA,gBAAgB,EAAEC,KAAK,IAAI;AACzBV,IAAAA,QAAQ,IAAI;AACV,UAAIN,MAAJ;AACAJ,MAAAA,KAAK,CACFqB,IADH,CACQ,sCADR,EACgD;AAAED,QAAAA;AAAF,OADhD,EAEGR,IAFH,CAEQC,GAAG,IAAI;AACXT,QAAAA,MAAM,GAAGS,GAAT;AACD,OAJH,EAKGC,KALH,CAKSC,GAAG,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAPH;AAQAL,MAAAA,QAAQ,CAAC;AACPQ,QAAAA,IAAI,EAAEb,KAAK,CAACE,eADL;AAEPH,QAAAA,MAAM,EAAEA;AAFD,OAAD,CAAR;AAID,KAdD;AAeD;AA/BoB,CAAhB;;AAkCP,MAAMkB,OAAO,GAAG,CAACC,KAAK,GAAGpB,YAAT,EAAuBqB,MAAvB,KAAkC;AAChD,UAAQA,MAAM,CAACN,IAAf;AACE,SAAKb,KAAK,CAACC,SAAX;AACE,aAAO,EACL,GAAGiB,KADE;AAELnB,QAAAA,MAAM,EAAEoB,MAAM,CAACpB;AAFV,OAAP;;AAIF,SAAKC,KAAK,CAACE,eAAX;AACE,aAAO,EACL,GAAGgB,KADE;AAELnB,QAAAA,MAAM,EAAEoB,MAAM,CAACpB;AAFV,OAAP;;AAIF;AACE,aAAOmB,KAAP;AAZJ;AAcD,CAfD;;AAiBA,eAAeD,OAAf;AAEA,OAAO,MAAMb,SAAS,GAAGc,KAAK,IAAI;AAChC,SAAOA,KAAK,CAACnB,MAAb;AACD,CAFM","sourcesContent":["import axios from 'axios'\r\naxios.defaults.withCredentials = true\r\n\r\nconst initialState = {\r\n  photos: {}\r\n}\r\n\r\nexport const types = {\r\n  GETPHOTOS: 'PHOTOS/GETPHOTOS',\r\n  GETPHOTOSBYDATE: 'PHOTOS/GETPHOTOSBYDATE'\r\n}\r\n\r\nexport const actions = {\r\n  getPhotos: () => {\r\n    return dispatch => {\r\n      let photos\r\n      axios\r\n        .get('http://127.0.0.1/api/getPhotos')\r\n        .then(res => {\r\n          photos = res\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n      dispatch({ type: types.GETPHOTOS, photos: photos })\r\n    }\r\n  },\r\n  getPhotosByDates: dates => {\r\n    dispatch => {\r\n      let photos\r\n      axios\r\n        .post('http://127.0.0.1/api/getPhotosByDate', { dates })\r\n        .then(res => {\r\n          photos = res\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n      dispatch({\r\n        type: types.GETPHOTOSBYDATE,\r\n        photos: photos\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.GETPHOTOS:\r\n      return {\r\n        ...state,\r\n        photos: action.photos\r\n      }\r\n    case types.GETPHOTOSBYDATE:\r\n      return {\r\n        ...state,\r\n        photos: action.photos\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n\r\nexport const getPhotos = state => {\r\n  return state.photos\r\n}\r\n"]},"metadata":{},"sourceType":"module"}