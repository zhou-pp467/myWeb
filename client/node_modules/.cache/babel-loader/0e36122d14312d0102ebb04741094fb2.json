{"ast":null,"code":"import axios from 'axios';\naxios.defaults.withCredentials = true;\nconst initialState = {\n  photos: {}\n};\nexport const types = {\n  GETPHOTOS: 'PHOTOS/GETPHOTOS',\n  GETPHOTOSBYDATE: 'PHOTOS/GETPHOTOSBYDATE'\n};\nexport const actions = {\n  getPhotos: () => {\n    return dispatch => {\n      let photos;\n      axios.get('http://118.89.63.17/api/getPhotos').then(res => {\n        photos = res;\n        dispatch({\n          type: types.GETPHOTOS,\n          photos: photos\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  },\n  getPhotosByDates: dates => {\n    return dispatch => {\n      let photos;\n      axios.post('http://118.89.63.17/api/getPhotosByDate', {\n        dates\n      }).then(res => {\n        photos = res;\n        dispatch({\n          type: types.GETPHOTOSBYDATE,\n          photos: photos\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.GETPHOTOS:\n      return { ...state,\n        photos: action.photos\n      };\n\n    case types.GETPHOTOSBYDATE:\n      return { ...state,\n        photos: action.photos\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\nexport const getPhotos = state => {\n  return state.photos;\n};","map":{"version":3,"sources":["C:/Users/何亚星/Desktop/myWeb/client/src/redux/photos.js"],"names":["axios","defaults","withCredentials","initialState","photos","types","GETPHOTOS","GETPHOTOSBYDATE","actions","getPhotos","dispatch","get","then","res","type","catch","err","console","log","getPhotosByDates","dates","post","reducer","state","action"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACAA,KAAK,CAACC,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE;AADW,CAArB;AAIA,OAAO,MAAMC,KAAK,GAAG;AACnBC,EAAAA,SAAS,EAAE,kBADQ;AAEnBC,EAAAA,eAAe,EAAE;AAFE,CAAd;AAKP,OAAO,MAAMC,OAAO,GAAG;AACrBC,EAAAA,SAAS,EAAE,MAAM;AACf,WAAOC,QAAQ,IAAI;AACjB,UAAIN,MAAJ;AACAJ,MAAAA,KAAK,CACFW,GADH,CACO,mCADP,EAEGC,IAFH,CAEQC,GAAG,IAAI;AACXT,QAAAA,MAAM,GAAGS,GAAT;AACAH,QAAAA,QAAQ,CAAC;AAAEI,UAAAA,IAAI,EAAET,KAAK,CAACC,SAAd;AAAyBF,UAAAA,MAAM,EAAEA;AAAjC,SAAD,CAAR;AACD,OALH,EAMGW,KANH,CAMSC,GAAG,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OARH;AASD,KAXD;AAYD,GAdoB;AAerBG,EAAAA,gBAAgB,EAAEC,KAAK,IAAI;AACzB,WAAOV,QAAQ,IAAI;AACjB,UAAIN,MAAJ;AACAJ,MAAAA,KAAK,CACFqB,IADH,CACQ,yCADR,EACmD;AAAED,QAAAA;AAAF,OADnD,EAEGR,IAFH,CAEQC,GAAG,IAAI;AACXT,QAAAA,MAAM,GAAGS,GAAT;AACAH,QAAAA,QAAQ,CAAC;AACPI,UAAAA,IAAI,EAAET,KAAK,CAACE,eADL;AAEPH,UAAAA,MAAM,EAAEA;AAFD,SAAD,CAAR;AAID,OARH,EASGW,KATH,CASSC,GAAG,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAXH;AAYD,KAdD;AAeD;AA/BoB,CAAhB;;AAkCP,MAAMM,OAAO,GAAG,CAACC,KAAK,GAAGpB,YAAT,EAAuBqB,MAAvB,KAAkC;AAChD,UAAQA,MAAM,CAACV,IAAf;AACE,SAAKT,KAAK,CAACC,SAAX;AACE,aAAO,EACL,GAAGiB,KADE;AAELnB,QAAAA,MAAM,EAAEoB,MAAM,CAACpB;AAFV,OAAP;;AAIF,SAAKC,KAAK,CAACE,eAAX;AACE,aAAO,EACL,GAAGgB,KADE;AAELnB,QAAAA,MAAM,EAAEoB,MAAM,CAACpB;AAFV,OAAP;;AAIF;AACE,aAAOmB,KAAP;AAZJ;AAcD,CAfD;;AAiBA,eAAeD,OAAf;AAEA,OAAO,MAAMb,SAAS,GAAGc,KAAK,IAAI;AAChC,SAAOA,KAAK,CAACnB,MAAb;AACD,CAFM","sourcesContent":["import axios from 'axios'\r\naxios.defaults.withCredentials = true\r\n\r\nconst initialState = {\r\n  photos: {}\r\n}\r\n\r\nexport const types = {\r\n  GETPHOTOS: 'PHOTOS/GETPHOTOS',\r\n  GETPHOTOSBYDATE: 'PHOTOS/GETPHOTOSBYDATE'\r\n}\r\n\r\nexport const actions = {\r\n  getPhotos: () => {\r\n    return dispatch => {\r\n      let photos\r\n      axios\r\n        .get('http://118.89.63.17/api/getPhotos')\r\n        .then(res => {\r\n          photos = res\r\n          dispatch({ type: types.GETPHOTOS, photos: photos })\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  },\r\n  getPhotosByDates: dates => {\r\n    return dispatch => {\r\n      let photos\r\n      axios\r\n        .post('http://118.89.63.17/api/getPhotosByDate', { dates })\r\n        .then(res => {\r\n          photos = res\r\n          dispatch({\r\n            type: types.GETPHOTOSBYDATE,\r\n            photos: photos\r\n          })\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  }\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.GETPHOTOS:\r\n      return {\r\n        ...state,\r\n        photos: action.photos\r\n      }\r\n    case types.GETPHOTOSBYDATE:\r\n      return {\r\n        ...state,\r\n        photos: action.photos\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n\r\nexport const getPhotos = state => {\r\n  return state.photos\r\n}\r\n"]},"metadata":{},"sourceType":"module"}