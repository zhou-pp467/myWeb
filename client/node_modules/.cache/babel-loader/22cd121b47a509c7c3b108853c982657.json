{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u4F55\\u4E9A\\u661F\\\\Desktop\\\\myWeb\\\\client\\\\src\\\\containers\\\\Login\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Form, Icon, Input, Button } from 'antd';\nimport { actions as authActions } from '../../redux/auth';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport './Login.css';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          this.props.login(values);\n          this.setState({\n            isbuttondisable: true\n          });\n        }\n      });\n    };\n\n    this.state = {\n      isbuttondisable: false\n    };\n  }\n\n  render() {\n    const {\n      getFieldDecorator\n    } = this.props.form;\n    return this.props.username ? React.createElement(Redirect, {\n      to: \"/photos\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"login-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, \"zhou_pp\\u7684\\u4E2A\\u4EBA\\u7A7A\\u95F4\"), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, getFieldDecorator('username', {\n      rules: [{\n        required: true,\n        message: '请输入用户名!'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"user\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }),\n      placeholder: \"\\u7528\\u6237\\u540D\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, getFieldDecorator('password', {\n      rules: [{\n        required: true,\n        message: '请输入密码!'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"lock\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }),\n      type: \"password\",\n      placeholder: \"\\u5BC6\\u7801\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      className: \"login-form-button\",\n      disabled: this.props.login_fail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"\\u767B\\u5F55\"))));\n  }\n\n}\n\nconst WrappedNormalLoginForm = Form.create({\n  name: 'normal_login'\n})(Login);\n\nconst mapStateToProps = state => {\n  return {\n    username: state.auth.username\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return { ...bindActionCreators(authActions, dispatch)\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedNormalLoginForm));","map":{"version":3,"sources":["C:/Users/何亚星/Desktop/myWeb/client/src/containers/Login/Login.js"],"names":["React","Component","connect","bindActionCreators","Form","Icon","Input","Button","actions","authActions","withRouter","Redirect","Login","constructor","props","handleSubmit","e","preventDefault","form","validateFields","err","values","login","setState","isbuttondisable","state","render","getFieldDecorator","username","rules","required","message","color","login_fail","WrappedNormalLoginForm","create","name","mapStateToProps","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { Form, Icon, Input, Button } from 'antd'\r\nimport { actions as authActions } from '../../redux/auth'\r\nimport { withRouter, Redirect } from 'react-router-dom'\r\nimport './Login.css'\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { isbuttondisable: false }\r\n  }\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        this.props.login(values)\r\n        this.setState({ isbuttondisable: true })\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return this.props.username ? (\r\n      <Redirect to=\"/photos\" />\r\n    ) : (\r\n      <div className=\"login-container\">\r\n        <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n          <h1>zhou_pp的个人空间</h1>\r\n          <Form.Item>\r\n            {getFieldDecorator('username', {\r\n              rules: [{ required: true, message: '请输入用户名!' }]\r\n            })(\r\n              <Input\r\n                prefix={\r\n                  <Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />\r\n                }\r\n                placeholder=\"用户名\"\r\n              />\r\n            )}\r\n          </Form.Item>\r\n          <Form.Item>\r\n            {getFieldDecorator('password', {\r\n              rules: [{ required: true, message: '请输入密码!' }]\r\n            })(\r\n              <Input\r\n                prefix={\r\n                  <Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />\r\n                }\r\n                type=\"password\"\r\n                placeholder=\"密码\"\r\n              />\r\n            )}\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              className=\"login-form-button\"\r\n              disabled={this.props.login_fail}\r\n            >\r\n              登录\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst WrappedNormalLoginForm = Form.create({ name: 'normal_login' })(Login)\r\nconst mapStateToProps = state => {\r\n  return { username: state.auth.username }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    ...bindActionCreators(authActions, dispatch)\r\n  }\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(WrappedNormalLoginForm)\r\n)\r\n"]},"metadata":{},"sourceType":"module"}