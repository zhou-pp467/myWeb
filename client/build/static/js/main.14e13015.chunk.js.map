{"version":3,"sources":["images/error.jpg","images/5-121204193937.gif","utils/axios.js","redux/auth.js","components/LoginContent.js","containers/Login/Login.js","redux/photos.js","images/index.js","redux/photoDetail.js","components/Waterfall.js","containers/Photos/Photos.js","containers/PhotoUpload/PhotoUpload.js","redux/users.js","containers/Administer/Administer.js","containers/PhotoDetail/PhotoDetail.js","containers/App/App.js","redux/index.js","index.js"],"names":["module","exports","axios","defaults","timeout","withCredentials","interceptors","response","use","parseInt","data","message","error","store","dispatch","type","types","LOGOUT","Promise","reject","console","log","LOGIN","initialState","userId","username","user_function","actions","login","obj","resuser_function","resusername","post","password","then","res","catch","err","logout","get","reducer","state","action","login_fail","getUsername","getUserFunction","LoginContent","labelAlign","labelCol","span","offset","wrapperCol","name","initialValues","remember","onFinish","values","props","onFinishFailed","errorInfo","Item","label","rules","required","className","Password","htmlType","Component","Login","this","to","withRouter","connect","auth","bindActionCreators","authActions","photos","getAllPhotos","getPhotosByDates","dates","status","deletePhoto","pictureId","picture_Id","deletedPhoto","filter","item","index","arr","getNextPicture","currentId","currentIndex","getState","forEach","length","getLastPicture","loadingGif","require","currentPicture","currentComments","issssLoading","getPhotoDetail","photoId","params","pictureInfo","comments","getComments","deleteComment","commentId","comment_Id","deletedCommentId","createComment","user_name","comment_content","comment_date","editPhotoDetail","picture_description","nextPhoto","currentPictureId","next","lastPhoto","last","clear","getCurrentPicture","io","IntersectionObserver","entries","intersectionRatio","target","src","dataset","unobserve","threshold","myrefs","React","createRef","WaterfallInner","col1","col2","col3","col4","dataChange","bind","clickItemHandle","id","history","push","shortOne","col1Length","col2Length","col3Length","col4Length","i","setState","nextprops","JSON","stringify","ref","map","data-src","onError","e","onerror","key","width","height","title","onClick","onload","current","querySelectorAll","observe","photoDetailActions","photosActions","Date","alt","Photos","onChange","window","stop","setTimeout","RangePicker","DatePicker","userfunction","placeholder","size","style","document","documentElement","clientHeight","formItemLayout","config","UploadPicture","formRef","onReset","resetFields","file","uploadProps","fileList","beforeUpload","multiple","enctype","loginName","fields","photoUpload","formData","FormData","append","set","format","success","onValuesChange","field","isJPG","isGIF","isPNG","Modal","isLt2M","TextArea","rows","resize","valuePropName","getFieldValue","validator","rule","value","resolve","listType","Object","keys","UploadOutlined","showTime","PhotoUpload","userList","getUsers","users","addUser","newUsername","newPassword","newFunction","addedUser","deleteUser","deletedUser","changeInfo","changedUser","getUserList","ChangeInfo","visible","onCreate","onCancel","defaultPassword","defaultFunction","Form","useForm","form","okText","cancelText","onOk","validateFields","function","info","layout","whitespace","pattern","Group","disabled","AddUserForm","AddNewUserButton","useState","setVisible","ChangeInfoButton","Administer","showPassword","bgcontroller","handleDelete","getAttribute","checkedChildren","unCheckedChildren","checked","event","usersActions","Input","deleteIconController","onMouseOver","currentTarget","querySelector","display","onMouseOut","CommentList","controller","dataSource","header","itemLayout","renderItem","Editor","onSubmit","submitting","autoSize","loading","App","handleDeleteComment","comId","picId","handleSubmit","moment","handleChange","author","content","datetime","fromNow","CloseCircleOutlined","color","fontSize","position","top","right","PhotoDetails","editing","description","match","picture","picture_content","warning","trim","prevProps","prevState","handleDeletePicture","LeftOutlined","handleLastPicture","RightOutlined","handleNextPicture","handelDescriptionChange","left","taken_time","upload_time","editDescription","confirmEdit","cancelEdit","photoDetail","photoActions","path","exact","component","from","rootReducer","combineReducers","myReducer","persistReducer","storage","createStore","applyMiddleware","thunk","persistor","persistStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.14e13015.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","module.exports = \"data:image/gif;base64,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\"","import axios from 'axios'\r\nimport { types } from '../redux/auth'\r\nimport { store } from '../index'\r\nimport { message } from 'antd'\r\naxios.defaults.timeout = 10000\r\naxios.defaults.withCredentials = true\r\n\r\naxios.interceptors.response.use(\r\n  response => {\r\n    //对响应数据做操作\r\n    if (parseInt(response.data, 10) === '200') {\r\n      //console.log('请求成功');\r\n      return response\r\n    }\r\n    if (response.data === '401' || response.data === 401) {\r\n      message.error('登录已过期，重新登陆')\r\n      store.dispatch({ type: types.LOGOUT })\r\n      return Promise.reject(response)\r\n    }\r\n    if (response.data === 500 || response.data === '500') {\r\n      console.log('请求失败', response.data)\r\n      message.error('请求失败')\r\n      //   alert(response.data.message)\r\n      return Promise.reject(response)\r\n    }\r\n    return response\r\n  },\r\n  error => {\r\n    //对响应数据错误做操作\r\n    console.log('请求error', error)\r\n    return error\r\n  }\r\n)\r\n\r\nexport default axios\r\n","import axios from '../utils/axios'\r\nimport { message } from 'antd'\r\n\r\nexport const types = {\r\n  LOGIN: 'AUTH/LOGIN',\r\n  LOGOUT: 'AUTH/LOGOUT'\r\n}\r\n\r\nconst initialState = {\r\n  userId: null,\r\n  username: null,\r\n  user_function: 9\r\n}\r\n\r\nexport const actions = {\r\n  login: obj => {\r\n    return dispatch => {\r\n      let resuser_function, resusername\r\n      axios\r\n        .post('http://118.89.63.17:80/api/login', {\r\n          username: obj.username,\r\n          password: obj.password\r\n        })\r\n        .then(function(res) {\r\n          resusername = res.data[0]['user_name']\r\n          resuser_function = res.data[0]['user_function']\r\n          console.log(resusername, resuser_function)\r\n          dispatch({\r\n            type: types.LOGIN,\r\n            username: resusername,\r\n            user_function: resuser_function\r\n          })\r\n        })\r\n        .catch(function(err) {\r\n          console.log(err)\r\n          message.error('登陆失败！')\r\n        })\r\n    }\r\n  },\r\n  logout: () => {\r\n    return dispatch => {\r\n      axios\r\n        .get('http://118.89.63.17:80/api/logout')\r\n        .then(function(response) {\r\n          console.log(response)\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error)\r\n        })\r\n      dispatch({\r\n        type: types.LOGOUT\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.LOGIN:\r\n      return {\r\n        ...state,\r\n        username: action.username,\r\n        user_function: action['user_function'],\r\n        login_fail: 'notloading'\r\n      }\r\n    case types.LOGOUT:\r\n      return {\r\n        ...state,\r\n        username: null,\r\n        userId: null,\r\n        user_function: null\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n\r\nexport const getUsername = state => {\r\n  return state.username\r\n}\r\n\r\nexport const getUserFunction = state => {\r\n  return state.user_function\r\n}\r\n","import { Form, Input, Button } from 'antd'\r\nimport React, { Component } from 'react'\r\n\r\nclass LoginContent extends Component {\r\n  render() {\r\n    const onFinish = values => {\r\n      this.props.login(values)\r\n    }\r\n\r\n    const onFinishFailed = errorInfo => {}\r\n    const layout = {\r\n      labelCol: {\r\n        span: 6,\r\n        offset: 0\r\n      },\r\n      wrapperCol: {\r\n        span: 18\r\n      }\r\n    }\r\n    const tailLayout = {\r\n      wrapperCol: {\r\n        offset: 0,\r\n        span: 10\r\n      }\r\n    }\r\n    return (\r\n      <Form\r\n        labelAlign=\"left\"\r\n        {...layout}\r\n        name=\"basic\"\r\n        initialValues={{\r\n          remember: true\r\n        }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n      >\r\n        <Form.Item\r\n          label=\"用户名\"\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '请输入用户名！'\r\n            }\r\n          ]}\r\n        >\r\n          <Input className=\"usernameInput\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"密码\"\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '请输入密码!'\r\n            }\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n\r\n        <Form.Item {...tailLayout}>\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            className=\"login-form-button\"\r\n          >\r\n            登录\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\nexport default LoginContent\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { actions as authActions } from '../../redux/auth'\r\nimport { withRouter, Redirect } from 'react-router-dom'\r\nimport './Login.css'\r\nimport LoginContent from '../../components/LoginContent'\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n  render() {\r\n    return !this.props.username ? (\r\n      <div className=\"loginPage\">\r\n        <div className=\"login-container\">\r\n          <div className=\"login-form\">\r\n            <h1>zhou_pp的个人空间</h1>\r\n            <LoginContent {...this.props} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <Redirect to=\"/photos\" />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    username: state.auth.username\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    ...bindActionCreators(authActions, dispatch)\r\n  }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Login))\r\n","import axios from '../utils/axios'\r\nimport { store } from '../index'\r\n\r\nconst initialState = {\r\n  photos: {}\r\n}\r\n\r\nexport const types = {\r\n  GETPHOTOS: 'PHOTOS/GETPHOTOS',\r\n  GETPHOTOSBYDATE: 'PHOTOS/GETPHOTOSBYDATE',\r\n  DELETEPHOTO: 'PHOTOS/DELETE'\r\n}\r\n\r\nexport const actions = {\r\n  getAllPhotos: () => {\r\n    return dispatch => {\r\n      let photos\r\n      axios\r\n        .get('http://118.89.63.17:80/api/getPhotos')\r\n        .then(res => {\r\n          photos = res\r\n          dispatch({ type: types.GETPHOTOS, photos: photos })\r\n        })\r\n        .catch(err => {\r\n          console.log(err, 'getphotos')\r\n        })\r\n    }\r\n  },\r\n  getPhotosByDates: dates => {\r\n    return dispatch => {\r\n      let photos\r\n      axios\r\n        .post('http://118.89.63.17:80/api/getPhotosByDate', { dates })\r\n        .then(res => {\r\n          if (res.status == 200) {\r\n            photos = res\r\n            dispatch({\r\n              type: types.GETPHOTOSBYDATE,\r\n              photos: photos\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err, 'getphotosbydate')\r\n        })\r\n    }\r\n  },\r\n  deletePhoto: pictureId => {\r\n    return dispatch => {\r\n      axios\r\n        .post('http://118.89.63.17:80/api/deletePhoto', {\r\n          picture_Id: pictureId\r\n        })\r\n        .then(res => {\r\n          console.log(res)\r\n          let deletedPhoto = pictureId\r\n          dispatch({ type: types.DELETEPHOTO, deletedPhoto })\r\n        })\r\n        .catch(err => {\r\n          console.log(err, 'deletePhotoerr')\r\n        })\r\n    }\r\n  }\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.GETPHOTOS:\r\n      return {\r\n        ...state,\r\n        photos: action.photos\r\n      }\r\n    case types.GETPHOTOSBYDATE:\r\n      return {\r\n        ...state,\r\n        photos: action.photos\r\n      }\r\n    case types.DELETEPHOTO:\r\n      return {\r\n        photos: {\r\n          data: state.photos.data.filter((item, index, arr) => {\r\n            return item['picture_Id'] !== action.deletedPhoto\r\n          })\r\n        }\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n\r\nexport const getPhotos = state => {\r\n  return state.photos\r\n}\r\n\r\nexport const getNextPicture = currentId => {\r\n  let currentIndex\r\n  let state = store.getState()\r\n  state.photos.photos.data.forEach((item, index, arr) => {\r\n    if (item['picture_Id'] === currentId) {\r\n      currentIndex = index\r\n      console.log(currentIndex, 'currentIndex')\r\n    }\r\n  })\r\n  const nextPicture =\r\n    currentIndex === state.photos.photos.data.length - 1\r\n      ? null\r\n      : state.photos.photos.data[currentIndex + 1]\r\n  return nextPicture\r\n}\r\n\r\nexport const getLastPicture = currentId => {\r\n  let currentIndex\r\n  let state = store.getState()\r\n  state.photos.photos.data.forEach((item, index, arr) => {\r\n    if (item['picture_Id'] === currentId) {\r\n      currentIndex = index\r\n    }\r\n  })\r\n  const lastPicture =\r\n    currentIndex === 0 ? null : state.photos.photos.data[currentIndex - 1]\r\n  return lastPicture\r\n}\r\n","export const errImg = require('./error.jpg')\r\nexport const loadingGif = require('./5-121204193937.gif')\r\n","import axios from '../utils/axios'\r\nimport { types as photoTypes, getNextPicture, getLastPicture } from './photos'\r\n\r\nconst initialState = {\r\n  currentPicture: {},\r\n  currentComments: [],\r\n  issssLoading: false\r\n}\r\n\r\nconst types = {\r\n  COMMENTDELETE: 'COMMENT/DELETE',\r\n  COMMENTSGET: 'COMMENTS/GET',\r\n  PHOTOGET: 'PHOTO/GET',\r\n  NEXTPHOTO: 'PHOTO/NEXT',\r\n  LASTPHOTO: 'PHOTO/LAST',\r\n  CLEAR: 'PHOTO/CLEAR'\r\n}\r\n\r\nexport const actions = {\r\n  deletePhoto(picture_Id) {\r\n    return dispatch => {\r\n      axios\r\n        .post('http://118.89.63.17:80/api/deletePhoto', { picture_Id })\r\n        .then(res => {})\r\n        .catch(err => {\r\n          console.log(err, 'deletePhotoerr')\r\n        })\r\n    }\r\n  },\r\n  getPhotoDetail(photoId) {\r\n    return dispatch => {\r\n      axios\r\n        .get('http://118.89.63.17:80/api/photoDetail', {\r\n          params: {\r\n            pictureId: photoId\r\n          }\r\n        })\r\n        .then(res => {\r\n          let pictureInfo = res.data[0]\r\n          console.log(res)\r\n          console.log(pictureInfo)\r\n          dispatch({ type: types.PHOTOGET, pictureInfo })\r\n        })\r\n      axios\r\n        .get('http://118.89.63.17:80/api/comments', {\r\n          params: { picture_Id: photoId }\r\n        })\r\n        .then(res => {\r\n          let comments = res.data\r\n          dispatch({ type: types.COMMENTSGET, comments })\r\n        })\r\n        .catch(err => {\r\n          console.log(err, 'getcommentserr')\r\n        })\r\n    }\r\n  },\r\n  getComments(pictureId) {\r\n    return dispatch => {\r\n      axios\r\n        .get('http://118.89.63.17:80/api/comments', {\r\n          params: { picture_Id: pictureId }\r\n        })\r\n        .then(res => {\r\n          let comments = res.data\r\n          dispatch({ type: types.COMMENTSGET, comments })\r\n        })\r\n        .catch(err => {\r\n          console.log(err, 'getcommentserr')\r\n        })\r\n    }\r\n  },\r\n  deleteComment(commentId, pictureId) {\r\n    return dispatch => {\r\n      axios\r\n        .post('http://118.89.63.17:80/api/deleteComment', {\r\n          comment_Id: commentId\r\n        })\r\n        .then(res => {\r\n          console.log(res)\r\n          let deletedCommentId\r\n          dispatch({ type: types.COMMENTDELETE, deletedCommentId })\r\n          if (res.status == 200) {\r\n            axios\r\n              .get('http://118.89.63.17:80/api/comments', {\r\n                params: { picture_Id: pictureId }\r\n              })\r\n              .then(res => {\r\n                let comments = res.data\r\n                dispatch({ type: types.COMMENTSGET, comments })\r\n              })\r\n              .catch(err => {\r\n                console.log(err, 'getcommentserr')\r\n              })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err, 'deleteCommenterr')\r\n        })\r\n    }\r\n  },\r\n  createComment({ user_name, comment_content, comment_date, picture_Id }) {\r\n    return dispatch => {\r\n      axios\r\n        .post('http://118.89.63.17:80/api/createComment', {\r\n          user_name,\r\n          comment_content,\r\n          comment_date,\r\n          picture_Id\r\n        })\r\n        .then(res => {\r\n          console.log(res)\r\n          if (res.status == 200) {\r\n            axios\r\n              .get('http://118.89.63.17:80/api/comments', {\r\n                params: { picture_Id }\r\n              })\r\n              .then(res => {\r\n                let comments = res.data\r\n                dispatch({ type: types.COMMENTSGET, comments })\r\n              })\r\n              .catch(err => {\r\n                console.log(err, 'getcommentserr')\r\n              })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err, 'createcommenterr')\r\n        })\r\n    }\r\n  },\r\n  editPhotoDetail(picture_Id, picture_description) {\r\n    return dispatch => {\r\n      axios\r\n        .post('http://118.89.63.17:80/api/editPhotoDetail', {\r\n          picture_Id,\r\n          picture_description\r\n        })\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            axios\r\n              .get('http://118.89.63.17:80/api/photoDetail', {\r\n                params: {\r\n                  pictureId: picture_Id\r\n                }\r\n              })\r\n              .then(res => {\r\n                let pictureInfo = res.data[0]\r\n                console.log(res)\r\n                console.log(pictureInfo)\r\n                dispatch({ type: types.PHOTOGET, pictureInfo })\r\n              })\r\n            axios\r\n              .get('http://118.89.63.17:80/api/comments', {\r\n                params: { picture_Id }\r\n              })\r\n              .then(res => {\r\n                let comments = res.data\r\n                dispatch({ type: types.COMMENTSGET, comments })\r\n              })\r\n              .catch(err => {\r\n                console.log(err, 'getcommentserr')\r\n              })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err, 'editphotodetailerr')\r\n        })\r\n    }\r\n  },\r\n  nextPhoto(currentPictureId) {\r\n    return dispatch => {\r\n      let next = getNextPicture(currentPictureId)\r\n      dispatch({ type: types.NEXTPHOTO, next })\r\n    }\r\n  },\r\n  lastPhoto(currentPictureId) {\r\n    return dispatch => {\r\n      let last = getLastPicture(currentPictureId)\r\n      dispatch({ type: types.LASTPHOTO, last })\r\n    }\r\n  },\r\n  clear() {\r\n    return dispatch => {\r\n      dispatch({ type: types.CLEAR })\r\n    }\r\n  }\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.PHOTOGET:\r\n      return {\r\n        ...state,\r\n        currentPicture: action.pictureInfo\r\n      }\r\n    case types.COMMENTSGET:\r\n      return {\r\n        ...state,\r\n        currentComments: action.comments\r\n      }\r\n    case types.COMMENTDELETE:\r\n      return {\r\n        ...state,\r\n        currentComments: state.currentComments.filter((item, index, arr) => {\r\n          return item['comment_Id'] !== action.deletedCommentId\r\n        })\r\n      }\r\n    case types.NEXTPHOTO:\r\n      return {\r\n        ...state,\r\n        currentPicture: action.next\r\n      }\r\n    case types.LASTPHOTO:\r\n      return {\r\n        ...state,\r\n        currentPicture: action.last\r\n      }\r\n    case types.CLEAR:\r\n      return {\r\n        ...state,\r\n        currentPicture: {}\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n\r\nexport const getCurrentComments = state => {\r\n  return state.currentComments || []\r\n}\r\nexport const getCurrentPicture = state => {\r\n  return state.currentPicture || {}\r\n}\r\n","import React, { Component } from 'react'\r\nimport { errImg, loadingGif } from '../images/index'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { actions as photoDetailActions } from '../redux/photoDetail'\r\nimport { actions as photosActions } from '../redux/photos'\r\nimport { Redirect, withRouter, Link } from 'react-router-dom'\r\n\r\nconst io = new IntersectionObserver(\r\n  entries => {\r\n    entries.forEach(item => {\r\n      if (item.intersectionRatio <= 0) {\r\n        return\r\n      }\r\n      const { target } = item\r\n      target.src = target.dataset.src\r\n      io.unobserve(target)\r\n    })\r\n  },\r\n  { threshold: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1] }\r\n)\r\nconst myrefs = React.createRef()\r\nclass WaterfallInner extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      col1: [],\r\n      col2: [],\r\n      col3: [],\r\n      col4: []\r\n    }\r\n\r\n    this.dataChange = this.dataChange.bind(this)\r\n    this.clickItemHandle = this.clickItemHandle.bind(this)\r\n  }\r\n\r\n  //发送请求跳转到照片详情\r\n  clickItemHandle(id) {\r\n    console.log(id)\r\n    this.props.history.push('/photodetail/' + id)\r\n  }\r\n\r\n  //把data处理成待渲染的形式\r\n  dataChange(data) {\r\n    let col1 = []\r\n    let col2 = []\r\n    let col3 = []\r\n    let col4 = []\r\n    data.forEach((item, index, arr) => {\r\n      let shortOne\r\n      let col1Length = 0,\r\n        col2Length = 0,\r\n        col3Length = 0,\r\n        col4Length = 0\r\n      for (let i = 0; i < col1.length; i++) {\r\n        col1Length += col1[i]['height']\r\n      }\r\n      for (let i = 0; i < col2.length; i++) {\r\n        col2Length += col2[i]['height']\r\n      }\r\n      for (let i = 0; i < col3.length; i++) {\r\n        col3Length += col3[i]['height']\r\n      }\r\n      for (let i = 0; i < col4.length; i++) {\r\n        col4Length += col4[i]['height']\r\n      }\r\n\r\n      if (\r\n        col1Length <= col2Length &&\r\n        col1Length <= col3Length &&\r\n        col1Length <= col4Length\r\n      ) {\r\n        shortOne = 'col1'\r\n      }\r\n      if (\r\n        col2Length < col1Length &&\r\n        col2Length <= col3Length &&\r\n        col2Length <= col4Length\r\n      ) {\r\n        shortOne = 'col2'\r\n      }\r\n      if (\r\n        col3Length < col1Length &&\r\n        col3Length < col2Length &&\r\n        col3Length <= col4Length\r\n      ) {\r\n        shortOne = 'col3'\r\n      }\r\n      if (\r\n        col4Length < col1Length &&\r\n        col4Length < col2Length &&\r\n        col4Length < col3Length\r\n      ) {\r\n        shortOne = 'col4'\r\n      }\r\n\r\n      switch (shortOne) {\r\n        case 'col1':\r\n          col1.push(item)\r\n          break\r\n        case 'col2':\r\n          col2.push(item)\r\n          break\r\n        case 'col3':\r\n          col3.push(item)\r\n          break\r\n        case 'col4':\r\n          col4.push(item)\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    })\r\n\r\n    this.setState({ col1, col2, col3, col4 })\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.dataChange(this.props.data)\r\n  }\r\n  componentWillReceiveProps(nextprops) {\r\n    if (JSON.stringify(this.props.data) !== JSON.stringify(nextprops.data)) {\r\n      this.dataChange(nextprops.data)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"myclearfix waterfall\" ref={myrefs}>\r\n        <div className=\"col1 myclearfix\">\r\n          {!!this.state.col1.length &&\r\n            this.state.col1.map((item, index, arr) => {\r\n              return (\r\n                <img\r\n                  data-src={item['picture_content']}\r\n                  src={loadingGif}\r\n                  onError={e => {\r\n                    e.target.src = loadingGif\r\n                    e.target.onerror = null\r\n                    e.target.key = item['picture_Id']\r\n                  }}\r\n                  width={287}\r\n                  height={item['height']}\r\n                  key={item['picture_Id']}\r\n                  title={item['picture_description']}\r\n                  onClick={e => {\r\n                    this.clickItemHandle(item.picture_Id)\r\n                  }}\r\n                />\r\n              )\r\n            })}\r\n        </div>\r\n        <div className=\"col2 myclearfix\">\r\n          {!!this.state.col2.length &&\r\n            this.state.col2.map((item, index, arr) => {\r\n              return (\r\n                <img\r\n                  data-src={item['picture_content']}\r\n                  src={loadingGif}\r\n                  onError={e => {\r\n                    e.target.src = loadingGif\r\n                    e.target.onerror = null\r\n                    e.target.key = item['picture_Id']\r\n                  }}\r\n                  width={287}\r\n                  height={item['height']}\r\n                  key={item['picture_Id']}\r\n                  title={item['picture_description']}\r\n                  onClick={e => {\r\n                    this.clickItemHandle(item.picture_Id)\r\n                  }}\r\n                />\r\n              )\r\n            })}\r\n        </div>\r\n        <div className=\"col3 myclearfix\">\r\n          {!!this.state.col3.length &&\r\n            this.state.col3.map((item, index, arr) => {\r\n              return (\r\n                <img\r\n                  data-src={item['picture_content']}\r\n                  src={loadingGif}\r\n                  onError={e => {\r\n                    e.target.src = loadingGif\r\n                    e.target.onerror = null\r\n                    e.target.key = item['picture_Id']\r\n                  }}\r\n                  width={287}\r\n                  height={item['height']}\r\n                  key={item['picture_Id']}\r\n                  title={item['picture_description']}\r\n                  onClick={e => {\r\n                    this.clickItemHandle(item.picture_Id)\r\n                  }}\r\n                />\r\n              )\r\n            })}\r\n        </div>\r\n        <div className=\"col4 myclearfix\">\r\n          {!!this.state.col4.length &&\r\n            this.state.col4.map((item, index, arr) => {\r\n              return (\r\n                <img\r\n                  data-src={item['picture_content']}\r\n                  src={loadingGif}\r\n                  onError={e => {\r\n                    e.target.src = loadingGif\r\n                    e.target.onerror = null\r\n                    e.target.key = item['picture_Id']\r\n                  }}\r\n                  width={287}\r\n                  height={item['height']}\r\n                  key={item['picture_Id']}\r\n                  title={item['picture_description']}\r\n                  onClick={e => {\r\n                    this.clickItemHandle(item.picture_Id)\r\n                  }}\r\n                />\r\n              )\r\n            })}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {}\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    ...bindActionCreators(photoDetailActions, dispatch),\r\n    ...bindActionCreators(photosActions, dispatch)\r\n  }\r\n}\r\n\r\nconst onload = () => {\r\n  const box = myrefs.current\r\n  const imgs = box.querySelectorAll('img')\r\n  imgs.forEach(item => {\r\n    io.observe(item)\r\n  })\r\n}\r\n\r\nWaterfallInner = withRouter(WaterfallInner)\r\n\r\nconst Waterfall = props => {\r\n  return (\r\n    <div>\r\n      <WaterfallInner data={props.data}></WaterfallInner>\r\n      <img src={+new Date()} onError={onload} alt=\"\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(Waterfall)\r\n)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { Redirect, withRouter, Link } from 'react-router-dom'\r\nimport { DatePicker, Button } from 'antd'\r\nimport { actions as photosActions, getPhotos } from '../../redux/photos'\r\nimport {\r\n  actions as authActions,\r\n  getUsername,\r\n  getUserFunction\r\n} from '../../redux/auth'\r\nimport './Photos.css'\r\nimport Waterfall from '../../components/Waterfall'\r\n\r\nclass Photos extends Component {\r\n  onChange = dates => {\r\n    window.stop()\r\n    setTimeout(() => {\r\n      this.props.getPhotosByDates(dates)\r\n    }, 1000)\r\n  }\r\n  logout = () => {\r\n    this.props.logout()\r\n  }\r\n  componentWillMount() {\r\n    this.props.getAllPhotos()\r\n  }\r\n  componentDidMount() {\r\n    this.props.getAllPhotos()\r\n  }\r\n  componentWillUnmount() {\r\n    window.stop()\r\n  }\r\n\r\n  render() {\r\n    const { RangePicker } = DatePicker\r\n    const userfunction = this.props.userfunction\r\n    const username = this.props.username\r\n    return username ? (\r\n      <div className=\"photos-container\">\r\n        <div className=\"header-container\">\r\n          <div className=\"header\">\r\n            {userfunction === 2 || userfunction === 1 ? (\r\n              <Link to=\"/photoupload\">\r\n                <Button type=\"normal\" className=\"upload-photo\">\r\n                  上传照片\r\n                </Button>\r\n              </Link>\r\n            ) : (\r\n              ''\r\n            )}\r\n            <h1>zhou_pp的照片墙</h1>\r\n            <div className=\"user\">\r\n              <span>用户：</span>\r\n              <span>{username}</span>\r\n              {userfunction === 2 || userfunction === 1 ? (\r\n                <Link to=\"/administer\">\r\n                  <Button type=\"normal\" className=\"manage\">\r\n                    管理账号\r\n                  </Button>\r\n                </Link>\r\n              ) : (\r\n                ''\r\n              )}\r\n              <Button\r\n                type=\"normal\"\r\n                className=\"logout\"\r\n                onClick={() => {\r\n                  this.logout()\r\n                }}\r\n              >\r\n                退出登录\r\n              </Button>\r\n            </div>\r\n            <div className=\"range\">\r\n              <span>选择照片时段：</span>\r\n              <RangePicker\r\n                placeholder={['        起始日期', '        结束日期']}\r\n                className=\"range-picker\"\r\n                size=\"medium\"\r\n                onChange={dates => this.onChange(dates)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"photos-body\"\r\n          style={{ height: document.documentElement.clientHeight - 152 }}\r\n        >\r\n          <div className=\"photo-contents\">\r\n            {!(this.props.data && this.props.data.length) ? (\r\n              <p>抱歉，没有当前时段的照片~</p>\r\n            ) : (\r\n              <Waterfall data={this.props.data}></Waterfall>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <Redirect to=\"/\" />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    username: getUsername(state.auth),\r\n    userfunction: getUserFunction(state.auth),\r\n    data: state.photos.photos.data\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    ...bindActionCreators(photosActions, dispatch),\r\n    ...bindActionCreators(authActions, dispatch)\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Photos))\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { Redirect, withRouter, Link } from 'react-router-dom'\r\nimport {\r\n  actions as authActions,\r\n  getUsername,\r\n  getUserFunction\r\n} from '../../redux/auth'\r\nimport { Form, DatePicker, Button, Input, Upload, message, Modal } from 'antd'\r\nimport './PhotoUpload.css'\r\nimport { UploadOutlined } from '@ant-design/icons'\r\nimport axios from '../../utils/axios'\r\n\r\nconst formItemLayout = {\r\n  labelAlign: 'left',\r\n  labelCol: {\r\n    span: 5,\r\n    offset: 3\r\n  },\r\n  wrapperCol: {\r\n    offset: 1,\r\n    span: 10\r\n  }\r\n}\r\n\r\nconst config = {\r\n  rules: [\r\n    {\r\n      required: true,\r\n      message: '不能为空'\r\n    }\r\n  ]\r\n}\r\n\r\nclass UploadPicture extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      file: {}\r\n    }\r\n  }\r\n  formRef = React.createRef()\r\n  onReset = () => {\r\n    this.formRef.current.resetFields()\r\n  }\r\n  render() {\r\n    const uploadProps = {\r\n      action: 'http://118.89.63.17:80/api/uploadPhoto',\r\n      onChange: ({ fileList }) => {\r\n        console.log(fileList)\r\n        if (!fileList || fileList.length === 0) {\r\n          this.setState({ file: {} })\r\n          console.log(this.state.file)\r\n        }\r\n      },\r\n      beforeUpload: file => {\r\n        console.log(file)\r\n        this.setState({ file: file })\r\n        return false\r\n      },\r\n      multiple: false\r\n    }\r\n    const { file } = this.state\r\n    const onFinish = fields => {\r\n      console.log(fields, 'fileds')\r\n      let {\r\n        photoUpload: { file }\r\n      } = fields\r\n\r\n      if (file) {\r\n        let formData = new FormData()\r\n        formData.append('file', file)\r\n        formData.append('picture_description', fields['picture_description'])\r\n        formData.append('user_name', fields['user_name'])\r\n        formData.set(\r\n          'taken_time',\r\n          fields['taken_time'].format('YYYY-MM-DD HH:mm:ss')\r\n        )\r\n        axios\r\n          .post('http://118.89.63.17:80/api/uploadPhoto', formData)\r\n          .then(res => {\r\n            console.log(res)\r\n            if (res.status == 200) {\r\n              this.onReset()\r\n              this.setState({ file: {} })\r\n              message.success('照片上传成功！')\r\n            } else {\r\n              Promise.reject(res)\r\n              message.error('照片上传失败！')\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err)\r\n            message.error('照片上传失败！')\r\n          })\r\n      }\r\n    }\r\n    const onFieldsChange = field => {\r\n      if (field['photoUpload'] && field['photoUpload'].fileList.length > 0) {\r\n        console.log(field)\r\n        const file = field.photoUpload.file\r\n        console.log(file)\r\n        //限制图片 格式、size、分辨率\r\n        const isJPG = file.type === 'image/jpeg'\r\n        const isGIF = file.type === 'image/gif'\r\n        const isPNG = file.type === 'image/png'\r\n        if (!(isJPG || isGIF || isPNG)) {\r\n          Modal.error({\r\n            title: '只能上传JPG、JPEG、GIF、PNG格式的图片'\r\n          })\r\n          this.setState({ file: {} })\r\n          this.onReset()\r\n        }\r\n        const isLt2M = file.size / 1024 / 1024 < 2\r\n        if (!isLt2M) {\r\n          Modal.error({\r\n            title: '超过2M限制 不允许上传'\r\n          })\r\n          this.setState({ file: {} })\r\n          this.onReset()\r\n        }\r\n        if ((isJPG || isGIF || isPNG) && isLt2M) {\r\n          file.fileList = []\r\n        }\r\n      } else {\r\n        return\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Form\r\n        ref={this.formRef}\r\n        id=\"uploadForm\"\r\n        enctype=\"multipart/form-data\"\r\n        name=\"upload-picture-form\"\r\n        initialValues={{\r\n          user_name: this.props.loginName\r\n        }}\r\n        {...formItemLayout}\r\n        onFinish={onFinish}\r\n        onValuesChange={onFieldsChange}\r\n      >\r\n        <Form.Item name=\"user_name\" label=\"上传用户\" {...config}>\r\n          <div>{this.props.loginName}</div>\r\n        </Form.Item>\r\n        <Form.Item name=\"picture_description\" label=\"照片详情\" {...config}>\r\n          <Input.TextArea\r\n            placeholder=\"请输入照片详情\"\r\n            rows={5}\r\n            style={{ resize: 'none' }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"photoUpload\"\r\n          label=\"照片文件\"\r\n          valuePropName=\"file\"\r\n          rules={[\r\n            ({ getFieldValue }) => ({\r\n              validator(rule, value) {\r\n                console.log(value)\r\n                if (!value || value.fileList.length === 0) {\r\n                  return Promise.reject('请上传照片！')\r\n                }\r\n                return Promise.resolve()\r\n              }\r\n            })\r\n          ]}\r\n        >\r\n          <Upload\r\n            name=\"photoUpload\"\r\n            listType=\"picture\"\r\n            file={file}\r\n            {...uploadProps}\r\n          >\r\n            {Object.keys(file).length > 0 ? null : (\r\n              <Button>\r\n                <UploadOutlined /> 点击上传照片\r\n              </Button>\r\n            )}\r\n          </Upload>\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"taken_time\" label=\"拍照时间\" {...config}>\r\n          <DatePicker\r\n            showTime\r\n            placeholder=\"请选择时间\"\r\n            format=\"YYYY-MM-DD HH:mm:ss\"\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item wrapperCol={{ offset: 6 }}>\r\n          <Button type=\"primary\" htmlType=\"submit\" className=\"submit-button\">\r\n            上传信息\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nclass PhotoUpload extends Component {\r\n  logout = () => {\r\n    this.props.logout()\r\n  }\r\n  render() {\r\n    const { loginName, userfunction } = this.props\r\n\r\n    return userfunction === 2 || userfunction === 1 ? (\r\n      <div className=\"photo-upload-container myclearfix\">\r\n        <div className=\"header-container\">\r\n          <div className=\"header\">\r\n            {userfunction === 2 || userfunction === 1 ? (\r\n              <Link to=\"/administer\">\r\n                <Button type=\"normal\" className=\"manage\">\r\n                  管理账号\r\n                </Button>\r\n              </Link>\r\n            ) : (\r\n              ''\r\n            )}\r\n            <h1>zhou_pp的上传照片页面</h1>\r\n            <div className=\"user\">\r\n              <span>用户：</span>\r\n              <span>{loginName}</span>\r\n              <Link to=\"/photos\">\r\n                <Button type=\"normal\" className=\"photo-wall\">\r\n                  照片墙\r\n                </Button>\r\n              </Link>\r\n              <Button\r\n                type=\"normal\"\r\n                className=\"logout\"\r\n                onClick={() => {\r\n                  this.logout()\r\n                }}\r\n              >\r\n                退出登录\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"photo-upload-body\">\r\n          <h1>上传图片</h1>\r\n          <UploadPicture {...this.props} />\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <Redirect to=\"/\" />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userfunction: getUserFunction(state.auth),\r\n    loginName: getUsername(state.auth)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    ...bindActionCreators(authActions, dispatch)\r\n  }\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(PhotoUpload)\r\n)\r\n","import axios from '../utils/axios'\r\n\r\nconst initialState = { userList: [] }\r\n\r\nexport const types = {\r\n  GETUSERS: 'USERS/GETUSERS',\r\n  ADDUSER: 'USERS/ADDUSER',\r\n  DELETEUSER: 'USERS/DELETEUSER',\r\n  CHANGEINFO: 'USERS/CHANGEINFO'\r\n}\r\n\r\nexport const actions = {\r\n  getUsers: () => {\r\n    return dispatch => {\r\n      axios\r\n        .get('http://118.89.63.17:80/api/users')\r\n        .then(res => {\r\n          let users = res.data\r\n          console.log(users, 'getusrsres')\r\n          dispatch({ type: types.GETUSERS, users })\r\n        })\r\n        .catch(err => {\r\n          console.log(err, 'getuser')\r\n        })\r\n    }\r\n  },\r\n  addUser: (newUsername, newPassword, newFunction) => {\r\n    return dispatch => {\r\n      axios\r\n        .post('http://118.89.63.17:80/api/createUser', {\r\n          username: newUsername,\r\n          password: newPassword,\r\n          user_function: newFunction\r\n        })\r\n        .then(function(response) {\r\n          let addedUser = response.data\r\n          dispatch({ type: types.ADDUSER, addedUser })\r\n        })\r\n        .catch(function(error) {\r\n          console.log('adduser', error)\r\n        })\r\n    }\r\n  },\r\n  deleteUser: username => {\r\n    return dispatch => {\r\n      console.log(username)\r\n      axios\r\n        .get('http://118.89.63.17:80/api/deleteUser', {\r\n          params: { username: username }\r\n        })\r\n        .then(res => {\r\n          let deletedUser = res.data\r\n          console.log(deletedUser)\r\n          dispatch({ type: types.DELETEUSER, deletedUser })\r\n        })\r\n        .catch(err => {\r\n          console.log('deleteuser', err)\r\n        })\r\n    }\r\n  },\r\n  changeInfo: (username, newPassword, newFunction) => {\r\n    return dispatch => {\r\n      axios\r\n        .post('http://118.89.63.17:80/api/changeInfo', {\r\n          username: username,\r\n          password: newPassword,\r\n          user_function: newFunction\r\n        })\r\n        .then(function(res) {\r\n          console.log(res.data)\r\n          let changedUser = res.data\r\n          dispatch({ type: types.CHANGEINFO, changedUser })\r\n        })\r\n        .catch(function(err) {\r\n          console.log('changeinfo', err)\r\n        })\r\n    }\r\n  }\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.GETUSERS:\r\n      console.log(action.users, 'action.user')\r\n      return {\r\n        userList: action.users\r\n      }\r\n    case types.ADDUSER:\r\n      return { userList: [...state.userList, action.addedUser] }\r\n    case types.DELETEUSER:\r\n      console.log(state.userList)\r\n      return {\r\n        userList: state.userList.filter(\r\n          (item, index, arr) => item['user_name'] !== action.deletedUser\r\n        )\r\n      }\r\n    case types.CHANGEINFO:\r\n      return {\r\n        userList: [\r\n          ...state.userList.filter((item, index, arr) => {\r\n            return item['user_name'] !== action.changedUser.user_name\r\n          }),\r\n          action.changedUser\r\n        ]\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n\r\nexport const getUserList = state => {\r\n  return state.userList\r\n}\r\n","import React, { Component, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { Redirect, withRouter, Link } from 'react-router-dom'\r\nimport {\r\n  actions as authActions,\r\n  getUsername,\r\n  getUserFunction\r\n} from '../../redux/auth'\r\nimport { actions as usersActions, getUserList } from '../../redux/users'\r\nimport { Button, Switch, Modal, Input, Radio, Form } from 'antd'\r\nimport './Administer.css'\r\n\r\nconst ChangeInfo = ({\r\n  visible,\r\n  onCreate,\r\n  onCancel,\r\n  username,\r\n  changeInfo,\r\n  loginName,\r\n  defaultPassword,\r\n  defaultFunction\r\n}) => {\r\n  const [form] = Form.useForm()\r\n  return (\r\n    <Modal\r\n      visible={visible}\r\n      title=\"修改账户信息\"\r\n      okText=\"修改\"\r\n      cancelText=\"取消\"\r\n      onCancel={() => {\r\n        onCancel()\r\n        form.resetFields()\r\n      }}\r\n      onOk={() => {\r\n        form\r\n          .validateFields()\r\n          .then(values => {\r\n            changeInfo(values.username, values.password, values.function)\r\n            onCreate(values)\r\n          })\r\n          .catch(info => {\r\n            console.log('Validate Failed:', info)\r\n          })\r\n      }}\r\n    >\r\n      <Form\r\n        labelAlign=\"left\"\r\n        wrapperCol={{ span: 16, offset: 0 }}\r\n        labelCol={{ span: 4, offset: 0 }}\r\n        size=\"small\"\r\n        form={form}\r\n        className=\"changeInfoForm\"\r\n        layout=\"horizontal\"\r\n        name=\"form_in_modal\"\r\n        initialValues={{\r\n          username: username,\r\n          password: defaultPassword,\r\n          function: defaultFunction\r\n        }}\r\n      >\r\n        <Form.Item className=\"usernameLabel\" name=\"username\" label=\"用户名\">\r\n          <div>{username}</div>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"password\"\r\n          className=\"passwordToSave\"\r\n          label=\"密码\"\r\n          rules={[\r\n            {\r\n              whitespace: true,\r\n              required: true,\r\n              pattern: '^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$',\r\n              message: '密码至少包含数字和英文，长度6-20'\r\n            }\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"function\"\r\n          label=\"身份\"\r\n          className=\"functionSetter\"\r\n          rules={[\r\n            {\r\n              required: true\r\n            }\r\n          ]}\r\n        >\r\n          <Radio.Group disabled={username === '呆呆' || loginName !== '呆呆'}>\r\n            {username !== '呆呆' ? (\r\n              ''\r\n            ) : (\r\n              <Radio className=\"radio\" value={2}>\r\n                总管理员\r\n              </Radio>\r\n            )}\r\n            <Radio className=\"radio\" value={1}>\r\n              副管理员\r\n            </Radio>\r\n            <Radio className=\"radio\" value={9}>\r\n              游客\r\n            </Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst AddUserForm = ({ visible, onCreate, onCancel, addUser }) => {\r\n  const [form] = Form.useForm()\r\n  return (\r\n    <Modal\r\n      visible={visible}\r\n      title=\"添加账号\"\r\n      okText=\"添加\"\r\n      cancelText=\"取消\"\r\n      onCancel={() => {\r\n        onCancel()\r\n        form.resetFields()\r\n      }}\r\n      onOk={() => {\r\n        form\r\n          .validateFields()\r\n          .then(values => {\r\n            form.resetFields()\r\n            onCreate(values)\r\n            addUser(values.username, values.password, values.function)\r\n          })\r\n          .catch(info => {\r\n            console.log('Validate Failed:', info)\r\n          })\r\n      }}\r\n    >\r\n      <Form\r\n        labelAlign=\"left\"\r\n        wrapperCol={{ span: 16, offset: 0 }}\r\n        labelCol={{ span: 4, offset: 0 }}\r\n        size=\"small\"\r\n        form={form}\r\n        className=\"changeInfoForm\"\r\n        layout=\"horizontal\"\r\n        name=\"form_in_modal\"\r\n        initialValues={{\r\n          username: '',\r\n          password: '',\r\n          function: 9\r\n        }}\r\n      >\r\n        <Form.Item\r\n          className=\"usernameLabel\"\r\n          name=\"username\"\r\n          label=\"用户名\"\r\n          rules={[\r\n            {\r\n              pattern:\r\n                '^(?![0-9]+$)([\\u4E00-\\uFA29]|[\\uE7C7-\\uE7F3]|[a-zA-Z0-9_-]){1,10}$',\r\n              whitespace: true,\r\n              required: true,\r\n              message:\r\n                '仅支持长度在10以内的由数字，汉字，英文和符号-_组成的非纯数字用户名'\r\n            }\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"password\"\r\n          className=\"passwordToSave\"\r\n          label=\"密码\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              pattern: '^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$',\r\n              message: '密码至少包含数字和英文，长度6-20'\r\n            }\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"function\"\r\n          label=\"身份\"\r\n          className=\"functionSetter\"\r\n          rules={[\r\n            {\r\n              required: true\r\n            }\r\n          ]}\r\n        >\r\n          <Radio.Group>\r\n            <Radio className=\"radio\" value={1}>\r\n              副管理员\r\n            </Radio>\r\n            <Radio className=\"radio\" value={9}>\r\n              游客\r\n            </Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst AddNewUserButton = props => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const onCreate = values => {\r\n    console.log('Received values of form: ', values)\r\n    setVisible(false)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        type=\"primary\"\r\n        onClick={() => {\r\n          setVisible(true)\r\n        }}\r\n        className=\"addNewUser\"\r\n      >\r\n        新增账户\r\n      </Button>\r\n      <AddUserForm\r\n        {...props}\r\n        visible={visible}\r\n        onCreate={onCreate}\r\n        onCancel={() => {\r\n          setVisible(false)\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ChangeInfoButton = props => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const onCreate = values => {\r\n    console.log('Received values of form: ', values)\r\n    setVisible(false)\r\n  }\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={() => {\r\n          setVisible(true)\r\n        }}\r\n        className=\"changeInfoButton\"\r\n      >\r\n        修改信息\r\n      </Button>\r\n      <ChangeInfo\r\n        {...props}\r\n        username={props.username}\r\n        defaultFunction={props.function}\r\n        defaultPassword={props.password}\r\n        visible={visible}\r\n        onCreate={onCreate}\r\n        onCancel={() => {\r\n          setVisible(false)\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nclass Administer extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showPassword: false\r\n    }\r\n  }\r\n  handleDelete(username) {\r\n    console.log(username)\r\n    this.props.deleteUser(username)\r\n  }\r\n\r\n  logout = () => {\r\n    this.props.logout()\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getUsers()\r\n  }\r\n\r\n  render() {\r\n    const { loginName, userfunction, userList } = this.props\r\n    console.log('render', userList)\r\n    // const userListToMap = userList\r\n    return userfunction === 2 || userfunction === 1 ? (\r\n      <div className=\"administer\">\r\n        <div className=\"header-container\">\r\n          <div className=\"header\">\r\n            <Link to=\"/photoupload\">\r\n              <Button type=\"normal\" className=\"upload-photo\">\r\n                上传照片\r\n              </Button>\r\n            </Link>\r\n            <h1>zhou_pp的管理员页面</h1>\r\n            <div className=\"user\">\r\n              <span>用户：</span>\r\n              <span>{loginName}</span>\r\n              <Link to=\"/photos\">\r\n                <Button type=\"normal\" className=\"photo-wall\">\r\n                  照片墙\r\n                </Button>\r\n              </Link>\r\n              <Button\r\n                type=\"normal\"\r\n                className=\"logout\"\r\n                onClick={() => {\r\n                  this.logout()\r\n                }}\r\n              >\r\n                退出登录\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"administer-body\">\r\n          <h1>账号信息列表</h1>\r\n          <div>\r\n            {userList &&\r\n              userList.length &&\r\n              userList.map((item, index, arr) => {\r\n                let bgcontroller = index % 2 === 0 ? 'even' : 'odd'\r\n                let user_function\r\n                switch (item['user_function']) {\r\n                  case 2:\r\n                    user_function = '总管理员'\r\n                    break\r\n                  case 1:\r\n                    user_function = '副管理员'\r\n                    break\r\n                  case 9:\r\n                    user_function = '游客'\r\n                    break\r\n                  default:\r\n                    break\r\n                }\r\n                return (\r\n                  <div key={item['user_name']}>\r\n                    {(loginName === item['user_name'] ||\r\n                      userfunction === 2) && (\r\n                      <div className={'infoItem' + ' ' + bgcontroller}>\r\n                        <b className=\"userInfo\" title={item['user_name']}>\r\n                          {item['user_name']}\r\n                        </b>\r\n                        <Button\r\n                          className=\"deleteButton\"\r\n                          onClick={e => {\r\n                            this.handleDelete(e.target.getAttribute('username'))\r\n                          }}\r\n                          username={item['user_name']}\r\n                          disabled={loginName === item['user_name']}\r\n                        >\r\n                          删除\r\n                        </Button>\r\n                        <ChangeInfoButton\r\n                          {...this.props}\r\n                          username={item['user_name']}\r\n                          function={item['user_function']}\r\n                          password={item['user_password']}\r\n                        />\r\n                        <b className=\"functionInfo\">{user_function}</b>\r\n                        {this.state.showPassword && (\r\n                          <b\r\n                            className=\"passwordInfo\"\r\n                            title={item['user_password']}\r\n                          >\r\n                            {item['user_password']}\r\n                          </b>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )\r\n              })}\r\n          </div>\r\n          {userfunction === 2 && <AddNewUserButton {...this.props} />}\r\n          <Switch\r\n            className=\"switchPasswordShow\"\r\n            checkedChildren=\"隐藏密码\"\r\n            unCheckedChildren=\"显示密码\"\r\n            onChange={(checked, event) => {\r\n              this.setState({ showPassword: checked })\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <Redirect to=\"/\" />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userfunction: getUserFunction(state.auth),\r\n    loginName: getUsername(state.auth),\r\n    userList: getUserList(state.users)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    ...bindActionCreators(authActions, dispatch),\r\n    ...bindActionCreators(usersActions, dispatch)\r\n  }\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(Administer)\r\n)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { Redirect, withRouter, Link } from 'react-router-dom'\r\nimport { getLastPicture, getNextPicture } from '../../redux/photos'\r\nimport { errImg, loadingGif } from '../../images/index'\r\nimport {\r\n  actions as authActions,\r\n  getUsername,\r\n  getUserFunction\r\n} from '../../redux/auth'\r\nimport './PhotoDetail.css'\r\nimport {\r\n  LeftOutlined,\r\n  RightOutlined,\r\n  CloseCircleOutlined\r\n} from '@ant-design/icons'\r\nimport {\r\n  actions as photoDetailActions,\r\n  getCurrentComments,\r\n  getCurrentPicture\r\n} from '../../redux/photoDetail'\r\nimport {\r\n  Comment,\r\n  Form,\r\n  Button,\r\n  List,\r\n  Input,\r\n  message,\r\n  Tooltip,\r\n  Modal,\r\n  Spin\r\n} from 'antd'\r\nimport moment from 'moment'\r\nimport { actions as photoActions } from '../../redux/photos'\r\n\r\nconst { TextArea } = Input\r\n\r\nconst deleteIconController = {\r\n  onMouseOver: e => {\r\n    e.currentTarget.querySelector('.deleteicon').style.display = 'block'\r\n  },\r\n  onMouseOut: e => {\r\n    e.currentTarget.querySelector('.deleteicon').style.display = 'none'\r\n  }\r\n}\r\nconst CommentList = props => {\r\n  console.log(props.userfunction)\r\n  const controller = props.userfunction === 2 ? deleteIconController : ''\r\n  return (\r\n    <List\r\n      dataSource={props.comments}\r\n      header={`${props.comments.length} 条评论`}\r\n      itemLayout=\"horizontal\"\r\n      renderItem={props => <Comment {...props} {...controller} />}\r\n    />\r\n  )\r\n}\r\n\r\nconst Editor = ({ onChange, onSubmit, submitting, value, username }) => (\r\n  <div className=\"edit-textarea\">\r\n    <span className=\"editor-name\">{username}：</span>\r\n    <Form.Item>\r\n      <TextArea\r\n        rows={1}\r\n        autoSize\r\n        onChange={onChange}\r\n        value={value}\r\n        style={{ resize: 'none' }}\r\n      />\r\n    </Form.Item>\r\n    <Form.Item>\r\n      <Button\r\n        className=\"add-comment-button\"\r\n        htmlType=\"submit\"\r\n        loading={submitting}\r\n        onClick={onSubmit}\r\n        type=\"primary\"\r\n      >\r\n        添加评论\r\n      </Button>\r\n    </Form.Item>\r\n  </div>\r\n)\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    submitting: false,\r\n    value: ''\r\n  }\r\n  handleDeleteComment = e => {\r\n    const comId = e.currentTarget.id\r\n    const picId = this.props.pictureId\r\n    this.props.deleteComment(comId, picId)\r\n  }\r\n  handleSubmit = () => {\r\n    if (!this.state.value) {\r\n      return\r\n    }\r\n\r\n    this.setState({\r\n      submitting: true\r\n    })\r\n\r\n    setTimeout(() => {\r\n      this.props.createComment({\r\n        user_name: this.props.username,\r\n        comment_content: this.state.value,\r\n        comment_date: moment().format('YYYY-MM-DD HH:mm:ss'),\r\n        picture_Id: this.props.pictureId\r\n      })\r\n      this.props.getPhotoDetail(this.props.pictureId)\r\n      this.props.getComments(this.props.pictureId)\r\n      this.setState({\r\n        ...this.state,\r\n        submitting: false,\r\n        value: ''\r\n      })\r\n    }, 500)\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      value: e.target.value\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { submitting, value } = this.state\r\n    let comments = this.props.currentComments.map((item, index, arr) => {\r\n      return {\r\n        author: item['user_name'],\r\n        content: <p>{item['comment_content']}</p>,\r\n        datetime: (\r\n          <Tooltip\r\n            title={moment(item['comment_date']).format('YYYY-MM-DD HH:mm:ss')}\r\n          >\r\n            <span>{moment(item['comment_date']).fromNow()}</span>\r\n          </Tooltip>\r\n        ),\r\n        actions:\r\n          this.props.userfunction === 2\r\n            ? [\r\n                <CloseCircleOutlined\r\n                  onClick={e => {\r\n                    this.handleDeleteComment(e)\r\n                  }}\r\n                  id={item['comment_Id']}\r\n                  className=\"deleteicon\"\r\n                  style={{\r\n                    color: 'red',\r\n                    fontSize: 12,\r\n                    position: 'absolute',\r\n                    top: 0,\r\n                    right: 0,\r\n                    display: 'none'\r\n                  }}\r\n                />\r\n              ]\r\n            : []\r\n      }\r\n    })\r\n    console.log(this.props.issssLoading)\r\n    return (\r\n      <div>\r\n        {this.props.issssLoading ? (\r\n          <div>\r\n            <Spin />\r\n          </div>\r\n        ) : (\r\n          comments.length > 0 && (\r\n            <CommentList\r\n              comments={comments}\r\n              userfunction={this.props.userfunction}\r\n            />\r\n          )\r\n        )}\r\n        {this.props.userfunction === 1 || this.props.userfunction === 2 ? (\r\n          <Comment\r\n            content={\r\n              <Editor\r\n                username={this.props.username}\r\n                onChange={this.handleChange}\r\n                onSubmit={this.handleSubmit}\r\n                submitting={submitting}\r\n                value={value}\r\n              />\r\n            }\r\n          />\r\n        ) : (\r\n          ''\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nclass PhotoDetails extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      editing: false,\r\n      description: this.props.currentPicture.picture_description\r\n    }\r\n  }\r\n\r\n  logout = () => {\r\n    this.props.logout()\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.props.getPhotoDetail(this.props.match.params.id)\r\n    this.props.getComments(this.props.match.params.id)\r\n  }\r\n  componentDidMount() {\r\n    this.picture.src = this.props.currentPicture.picture_content\r\n  }\r\n  handleDeletePicture(currentPicture) {\r\n    if (getNextPicture(currentPicture.picture_Id) !== null) {\r\n      let id = getNextPicture(currentPicture.picture_Id).picture_Id\r\n      this.props.deletePhoto(currentPicture.picture_Id)\r\n      this.props.history.push('/photodetail/' + id)\r\n      this.props.getPhotoDetail(id)\r\n      this.props.getAllPhotos()\r\n    } else {\r\n      this.props.deletePhoto(currentPicture.picture_Id)\r\n      message.warning('后面没有图片了，已回到照片墙')\r\n      this.props.history.push('/photos')\r\n    }\r\n  }\r\n  handleNextPicture(currentPicture) {\r\n    if (getNextPicture(currentPicture.picture_Id) !== null) {\r\n      let id = getNextPicture(currentPicture.picture_Id).picture_Id\r\n      this.props.history.push('/photodetail/' + id)\r\n      this.props.getPhotoDetail(id)\r\n    } else {\r\n      message.warning('已经是最后一张了')\r\n      return\r\n    }\r\n  }\r\n  handleLastPicture(currentPicture) {\r\n    if (getLastPicture(currentPicture.picture_Id) !== null) {\r\n      let id = getLastPicture(currentPicture.picture_Id).picture_Id\r\n      this.props.history.push('/photodetail/' + id)\r\n      this.props.getPhotoDetail(id)\r\n    } else {\r\n      message.warning('已经是第一张了')\r\n      return\r\n    }\r\n  }\r\n  editDescription() {\r\n    this.setState({ editing: true })\r\n  }\r\n  confirmEdit() {\r\n    this.props.editPhotoDetail(\r\n      this.props.currentPicture.picture_Id,\r\n      this.state.description.trim()\r\n    )\r\n    this.setState({\r\n      editing: false\r\n    })\r\n  }\r\n  cancelEdit() {\r\n    this.setState({\r\n      editing: false,\r\n      description: this.props.currentPicture.picture_description\r\n    })\r\n  }\r\n  handelDescriptionChange(e) {\r\n    this.setState({ description: e.target.value })\r\n  }\r\n  componentWillReceiveProps(nextprops) {\r\n    this.picture.src = loadingGif\r\n    console.log('picturechanged')\r\n    if (nextprops.currentPicture !== this.props.currentPicture) {\r\n      this.setState({\r\n        description: nextprops.currentPicture.picture_description\r\n      })\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // if (prevProps.currentPicture !== this.props.currentPicture) {\r\n    this.picture.src = this.props.currentPicture.picture_content\r\n    // }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clear()\r\n  }\r\n\r\n  render() {\r\n    const { userfunction, username, currentPicture } = this.props\r\n\r\n    return username ? (\r\n      <div className=\"photo-detail-container myclearfix\">\r\n        <div className=\"header-container\">\r\n          <div className=\"header\">\r\n            {userfunction === 2 || userfunction === 1 ? (\r\n              <Link to=\"/photoupload\">\r\n                <Button type=\"normal\" className=\"upload-photo\">\r\n                  上传照片\r\n                </Button>\r\n              </Link>\r\n            ) : (\r\n              ''\r\n            )}\r\n            {userfunction === 2 || userfunction === 1 ? (\r\n              <Link to=\"/administer\">\r\n                <Button type=\"normal\" className=\"manage\">\r\n                  管理账号\r\n                </Button>\r\n              </Link>\r\n            ) : (\r\n              ''\r\n            )}\r\n            <h1>zhou_pp的照片详情页面</h1>\r\n            <div className=\"user\">\r\n              <span>用户：</span>\r\n              <span>{username}</span>\r\n              <Link to=\"/photos\">\r\n                <Button type=\"normal\" className=\"photo-wall\">\r\n                  照片墙\r\n                </Button>\r\n              </Link>\r\n              <Button\r\n                type=\"normal\"\r\n                className=\"logout\"\r\n                onClick={() => {\r\n                  this.logout()\r\n                }}\r\n              >\r\n                退出登录\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"photo-detail-body myclearfix\">\r\n          {/* 图片及详情 */}\r\n          <div className=\"description-section\">\r\n            <div className=\"photo-show\">\r\n              <img\r\n                ref={ref => (this.picture = ref)}\r\n                src={loadingGif}\r\n                alt=\"\"\r\n                onError={e => {\r\n                  e.target.onError = null\r\n                  e.target.src = loadingGif\r\n                }}\r\n              />\r\n              {this.props.userfunction === 2 ? (\r\n                <Button\r\n                  type=\"danger\"\r\n                  className=\"deletePhotoButton\"\r\n                  onClick={() => {\r\n                    this.handleDeletePicture(currentPicture)\r\n                  }}\r\n                >\r\n                  删除照片\r\n                </Button>\r\n              ) : (\r\n                ''\r\n              )}\r\n            </div>\r\n            <LeftOutlined\r\n              onClick={() => {\r\n                this.handleLastPicture(currentPicture)\r\n              }}\r\n              className=\"left-icon\"\r\n              style={{ fontSize: 45, color: 'rgba(0, 0, 0,0.8)' }}\r\n            />\r\n            <RightOutlined\r\n              onClick={() => {\r\n                this.handleNextPicture(currentPicture)\r\n              }}\r\n              className=\"right-icon\"\r\n              style={{ fontSize: 45, color: 'rgba(0, 0, 0,0.8)' }}\r\n            />\r\n            <div className=\"photo-text myclearfix\">\r\n              <p className=\"photo-description\">\r\n                照片描述：{currentPicture['picture_description']}\r\n              </p>\r\n              {this.state.editing === true ? (\r\n                <TextArea\r\n                  value={this.state.description}\r\n                  onChange={e => {\r\n                    this.handelDescriptionChange(e)\r\n                  }}\r\n                  rows={3}\r\n                  style={{\r\n                    width: 350,\r\n                    resize: 'none',\r\n                    position: 'absolute',\r\n                    top: 16,\r\n                    left: 106\r\n                  }}\r\n                >\r\n                  {this.state.description}\r\n                </TextArea>\r\n              ) : (\r\n                ''\r\n              )}\r\n              <span className=\"photo-info\">\r\n                拍摄时间：\r\n                {moment(currentPicture.taken_time).format(\r\n                  'YYYY-MM-DD HH:mm:ss'\r\n                )}\r\n                <br />\r\n                上传时间：\r\n                {moment(currentPicture.upload_time).format(\r\n                  'YYYY-MM-DD HH:mm:ss'\r\n                )}\r\n                <br />\r\n                上传者：{currentPicture.user_name}\r\n              </span>\r\n              {this.props.userfunction === 2 && this.state.editing === false ? (\r\n                <Button\r\n                  type=\"primary\"\r\n                  size=\"small\"\r\n                  className=\"edit-picture-info\"\r\n                  onClick={() => {\r\n                    this.editDescription()\r\n                  }}\r\n                >\r\n                  编辑\r\n                </Button>\r\n              ) : (\r\n                ''\r\n              )}\r\n              {this.props.userfunction === 2 && this.state.editing === true ? (\r\n                <div className=\"buttons\">\r\n                  <Button\r\n                    className=\"confirmBUtton\"\r\n                    size=\"small\"\r\n                    type=\"primary\"\r\n                    onClick={() => {\r\n                      this.confirmEdit()\r\n                    }}\r\n                  >\r\n                    确认\r\n                  </Button>\r\n                  <Button\r\n                    className=\"cancelButton\"\r\n                    size=\"small\"\r\n                    onClick={() => {\r\n                      this.cancelEdit()\r\n                    }}\r\n                  >\r\n                    取消\r\n                  </Button>\r\n                </div>\r\n              ) : (\r\n                ''\r\n              )}\r\n            </div>\r\n          </div>\r\n          {/* 评论部分 */}\r\n          <div className=\"comment-section\">\r\n            <App\r\n              issssLoading={this.props.issssLoading}\r\n              username={username}\r\n              pictureId={this.props.match.params.id}\r\n              currentComments={this.props.currentComments}\r\n              createComment={this.props.createComment}\r\n              getComments={this.props.getComments}\r\n              getPhotoDetail={this.props.getPhotoDetail}\r\n              currentPicture={this.props.currentPicture}\r\n              deleteComment={this.props.deleteComment}\r\n              userfunction={this.props.userfunction}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <Redirect to=\"/\" />\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    username: getUsername(state.auth),\r\n    userfunction: getUserFunction(state.auth),\r\n    currentComments: state.photoDetail.currentComments || [],\r\n    currentPicture: getCurrentPicture(state.photoDetail),\r\n    issssLoading: state.photoDetail.issssLoading\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    ...bindActionCreators(authActions, dispatch),\r\n    ...bindActionCreators(photoDetailActions, dispatch),\r\n    ...bindActionCreators(photoActions, dispatch)\r\n  }\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(PhotoDetails)\r\n)\r\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { HashRouter as Router, Route, Switch, Redirect } from 'react-router-dom'\nimport Login from '../Login/Login'\nimport Photos from '../Photos/Photos'\nimport PhotoUpload from '../PhotoUpload/PhotoUpload'\nimport Administer from '../Administer/Administer'\nimport PhotoDetails from '../PhotoDetail/PhotoDetail'\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <Switch>\n          <Route path=\"/\" exact component={Login} />\n          <Route path=\"/photos\" component={Photos} />\n          <Route path=\"/photoupload\" component={PhotoUpload} />\n          <Route path=\"/administer\" component={Administer} />\n          <Route path=\"/photodetail/:id\" component={PhotoDetails} />\n          <Redirect from=\"/*\" to=\"/\" />\n        </Switch>\n      </Router>\n    )\n  }\n}\n\nexport default connect()(App)\n","import auth from './auth'\r\nimport photos from './photos'\r\nimport photoDetail from './photoDetail'\r\nimport users from './users'\r\nimport { combineReducers } from 'redux'\r\n\r\nconst rootReducer = combineReducers({\r\n  auth,\r\n  photos,\r\n  photoDetail,\r\n  users\r\n})\r\n\r\nexport default rootReducer\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './containers/App/App'\nimport rootReducer from './redux/index'\nimport { Provider } from 'react-redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\n\nconst myReducer = persistReducer(\n  {\n    key: 'root',\n    storage\n  },\n  rootReducer\n)\n\n// const create = window.devToolsExtension\n//   ? window.devToolsExtension()(createStore)\n//   : createStore\nexport const store = createStore(myReducer, applyMiddleware(thunk))\nconst persistor = persistStore(store)\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}